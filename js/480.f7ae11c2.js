"use strict";(self["webpackChunkfront_end_final"]=self["webpackChunkfront_end_final"]||[]).push([[480],{1229:function(e,l){const a=[{value:"♪♪♪♪♪",label:"♪♪♪♪♪"},{value:"♪♪♪♪",label:"♪♪♪♪"},{value:"♪♪♪",label:"♪♪♪"},{value:"♪♪",label:"♪♪"},{value:"♪",label:"♪"}],t=[{value:"★★★★★",label:"★★★★★"},{value:"★★★★",label:"★★★★"},{value:"★★★",label:"★★★"},{value:"★★",label:"★★"},{value:"★",label:"★"}];l.Z={songPowerOptions:a,singerPowerOptions:t}},8480:function(e,l,a){a.r(l),a.d(l,{default:function(){return E}});var t=a(3396),n=a(7139),d=a(9242);const o=(0,t.Uk)(" / "),s=(0,t._)("br",null,null,-1),r=(0,t.Uk)("搜索"),i=(0,t.Uk)("增加"),u=(0,t.Uk)("重置"),m=(0,t._)("br",null,null,-1),p=(0,t._)("br",null,null,-1),f=(0,t._)("hr",null,null,-1),c=(0,t.Uk)(" 编辑 "),w=(0,t.Uk)(" 更新 "),g=(0,t.Uk)(" 删除 ");function h(e,l,a,h,y,I){const b=(0,t.up)("el-input"),_=(0,t.up)("el-form-item"),W=(0,t.up)("el-button"),V=(0,t.up)("el-form"),k=(0,t.up)("el-tab-pane"),S=(0,t.up)("el-col"),v=(0,t.up)("el-row"),U=(0,t.up)("el-option"),E=(0,t.up)("el-select"),x=(0,t.up)("el-tabs"),z=(0,t.up)("el-table-column"),F=(0,t.up)("el-table");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("span",null,(0,n.zw)(a.baseMsg),1),o,(0,t._)("b",null,(0,n.zw)(a.msg),1),(0,t._)("div",null,[s,(0,t.Wm)(x,{type:"card",modelValue:y.activeTab,"onUpdate:modelValue":l[9]||(l[9]=e=>y.activeTab=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"搜索歌手",name:"search"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{inline:!0,model:y.detailSingerInfo},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"歌曲姓名",required:""},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:y.detailSingerInfo.name,"onUpdate:modelValue":l[0]||(l[0]=e=>y.detailSingerInfo.name=e),placeholder:"请输入歌曲姓名(模糊查询)"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Wm)(W,{type:"primary",onClick:l[1]||(l[1]=e=>I.detailItem())},{default:(0,t.w5)((()=>[r])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),(0,t.Wm)(k,{label:"新增入驻歌手",name:"add"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{inline:!0,model:y.addSingerInfo},{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,{span:"8"},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"歌手姓名",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:y.addSingerInfo.name,"onUpdate:modelValue":l[2]||(l[2]=e=>y.addSingerInfo.name=e),placeholder:"请输入歌手姓名"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(_,{label:"性别",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:y.addSingerInfo.gender,"onUpdate:modelValue":l[3]||(l[3]=e=>y.addSingerInfo.gender=e),placeholder:"请输入性别"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,{span:"8"},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"常驻城市",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:y.addSingerInfo.address,"onUpdate:modelValue":l[4]||(l[4]=e=>y.addSingerInfo.address=e),placeholder:"请输入常驻城市"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(_,{label:"类型",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:y.addSingerInfo.type,"onUpdate:modelValue":l[5]||(l[5]=e=>y.addSingerInfo.type=e),placeholder:"请输入类型"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,{span:"8"},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"星级",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(E,{modelValue:y.addSingerInfo.star,"onUpdate:modelValue":l[6]||(l[6]=e=>y.addSingerInfo.star=e),placeholder:"选择星级"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(y.options,(e=>((0,t.wg)(),(0,t.j4)(U,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Wm)(W,{type:"primary",onClick:l[7]||(l[7]=e=>I.addItem())},{default:(0,t.w5)((()=>[i])),_:1}),(0,t.Wm)(W,{type:"primary",onClick:l[8]||(l[8]=e=>I.clearItem())},{default:(0,t.w5)((()=>[u])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])),_:1},8,["modelValue"]),m,p,f,(0,t.Wm)(F,{data:y.listSingerInfo,style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.kq)("",!0),(0,t.Wm)(z,{prop:"seq",label:"序号",width:"100"}),(0,t.Wm)(z,{prop:"name",label:"歌手姓名",width:"100"},{default:(0,t.w5)((e=>[(0,t.wy)((0,t.Wm)(b,{type:"text",modelValue:e.row.name,"onUpdate:modelValue":l=>e.row.name=l},null,8,["modelValue","onUpdate:modelValue"]),[[d.F8,e.row.isEdit]]),(0,t.wy)((0,t._)("span",null,(0,n.zw)(e.row.name),513),[[d.F8,!e.row.isEdit]])])),_:1}),(0,t.Wm)(z,{prop:"gender",label:"性别",width:"100"},{default:(0,t.w5)((e=>[(0,t.wy)((0,t.Wm)(b,{type:"text",modelValue:e.row.gender,"onUpdate:modelValue":l=>e.row.gender=l},null,8,["modelValue","onUpdate:modelValue"]),[[d.F8,e.row.isEdit]]),(0,t.wy)((0,t._)("span",null,(0,n.zw)(e.row.gender),513),[[d.F8,!e.row.isEdit]])])),_:1}),(0,t.Wm)(z,{prop:"address",label:"常驻城市",width:"300"},{default:(0,t.w5)((e=>[(0,t.wy)((0,t.Wm)(b,{type:"text",modelValue:e.row.address,"onUpdate:modelValue":l=>e.row.address=l},null,8,["modelValue","onUpdate:modelValue"]),[[d.F8,e.row.isEdit]]),(0,t.wy)((0,t._)("span",null,(0,n.zw)(e.row.address),513),[[d.F8,!e.row.isEdit]])])),_:1}),(0,t.Wm)(z,{prop:"type",label:"类型",width:"200"},{default:(0,t.w5)((e=>[(0,t.wy)((0,t.Wm)(b,{type:"text",modelValue:e.row.type,"onUpdate:modelValue":l=>e.row.type=l},null,8,["modelValue","onUpdate:modelValue"]),[[d.F8,e.row.isEdit]]),(0,t.wy)((0,t._)("span",null,(0,n.zw)(e.row.type),513),[[d.F8,!e.row.isEdit]])])),_:1}),(0,t.Wm)(z,{prop:"star",label:"星级",width:"100"},{default:(0,t.w5)((e=>[(0,t.wy)((0,t.Wm)(b,{type:"text",modelValue:e.row.star,"onUpdate:modelValue":l=>e.row.star=l},null,8,["modelValue","onUpdate:modelValue"]),[[d.F8,e.row.isEdit]]),(0,t.wy)((0,t._)("span",null,(0,n.zw)(e.row.star),513),[[d.F8,!e.row.isEdit]])])),_:1}),(0,t.Wm)(z,{fixed:"right",label:"操作",width:"200"},{default:(0,t.w5)((e=>[(0,t.wy)((0,t.Wm)(W,{round:"",type:"primary",size:"small",onClick:(0,d.iM)((l=>I.editItem(e)),["prevent"])},{default:(0,t.w5)((()=>[c])),_:2},1032,["onClick"]),[[d.F8,!e.row.isEdit]]),(0,t.wy)((0,t.Wm)(W,{round:"",type:"success",size:"small",onClick:(0,d.iM)((l=>I.updateItem(e)),["prevent"])},{default:(0,t.w5)((()=>[w])),_:2},1032,["onClick"]),[[d.F8,e.row.isEdit]]),(0,t.Wm)(W,{round:"",type:"danger",size:"small",onClick:(0,d.iM)((l=>I.removeItem(e)),["prevent"])},{default:(0,t.w5)((()=>[g])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])],64)}a(7658);var y=a(7634),I=a.n(y),b=a(9095),_=a(22);const W=b.Z.singerData.singerInfo;I().mock("https://meta-mock/singerInfo/list","get",(()=>({code:200,success:!0,message:"获取所有歌手数据成功！",data:W}))),I().mock("https://meta-mock/singerInfo/detail","post",(e=>{const l=JSON.parse(e.body);let a=[];W.forEach((function(e,l){a.push(e.name)}));const t=_.Z.fuzzyQuery(a,l.name);let n=[];for(let d in W)for(let e in t)W[d].name===t[e]&&n.push(W[d]);return{code:200,success:!0,message:"获取歌手详情成功！",data:n}})),I().mock("https://meta-mock/singerInfo/add","post",(e=>{const l=JSON.parse(e.body),a=I().mock({id:"@guid",seq:"@increment"});return l.id=a.id,l.seq=a.seq,W.unshift(l),{code:200,success:!0,message:"新增歌手数据成功！",data:W}})),I().mock("https://meta-mock/singerInfo/removeAll","post",(e=>{const l=JSON.parse(e.body);return l.forEach((e=>{const l=W.findIndex((l=>l.id==e));W.splice(l,1)})),{code:200,success:!0,message:"批量删除歌手数据成功",data:W}})),I().mock("https://meta-mock/singerInfo/remove","post",(e=>{const l=e.body;for(let a in W)W[a].id===l&&W.splice(a,1);return{code:200,success:!0,message:"删除歌手数据成功",data:W}})),I().mock("https://meta-mock/singerInfo/update","post",(e=>{const l=JSON.parse(e.body);for(let a in W)W[a].id===l.id&&(W[a]=l);return{code:200,success:!0,message:"更新歌手数据成功",data:W}}));var V=a(7224),k=a(1229),S={name:"SingerView",props:{msg:String,baseMsg:String},data(){return{options:k.Z.singerPowerOptions,activeTab:"search",listSingerInfo:[],detailSingerInfo:{},addSingerInfo:{name:"",gender:"",address:"",type:"",star:""}}},mounted(){V.Z.ajax({type:"get",url:"https://meta-mock/singerInfo/list",data:""}).then((e=>{this.listSingerInfo=e.data}))},methods:{addItem:function(){for(const e in this.addSingerInfo)if(!this.addSingerInfo[e])return this.$message({type:"error",message:"请输入必填内容"});V.Z.ajax({type:"post",url:"https://meta-mock/singerInfo/add",data:JSON.stringify(this.addSingerInfo)}).then((e=>{200==e.code&&(this.listSingerInfo=e.data,this.$message({type:"info",message:e.message}))}))},clearItem:function(){this.addSingerInfo={name:"",gender:"",address:"",type:"",star:""}},removeItem:function(e){this.$confirm("是否执行删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{V.Z.ajax({type:"post",url:"https://meta-mock/singerInfo/remove",data:e.row.id}).then((e=>{200==e.code&&(this.listSingerInfo=e.data,this.$message({type:"info",message:e.message}))}))})).catch((()=>{}))},editItem:function(e){e.row.isEdit=!0},updateItem:function(e){e.row.isEdit=!1,V.Z.ajax({type:"post",url:"https://meta-mock/singerInfo/update",data:JSON.stringify(e.row)}).then((e=>{200==e.code&&(this.listSingerInfo=e.data,this.$message({type:"info",message:e.message}))}))},detailItem:function(){V.Z.ajax({type:"post",url:"https://meta-mock/singerInfo/detail",data:JSON.stringify(this.detailSingerInfo)}).then((e=>{200==e.code&&(this.listSingerInfo=e.data,this.$message({type:"info",message:e.message}))}))}}},v=a(89);const U=(0,v.Z)(S,[["render",h]]);var E=U}}]);
//# sourceMappingURL=480.f7ae11c2.js.map