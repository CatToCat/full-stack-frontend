"use strict";(self["webpackChunkfront_end_final"]=self["webpackChunkfront_end_final"]||[]).push([[737],{1229:function(e,l){const a=[{value:"♪♪♪♪♪",label:"♪♪♪♪♪"},{value:"♪♪♪♪",label:"♪♪♪♪"},{value:"♪♪♪",label:"♪♪♪"},{value:"♪♪",label:"♪♪"},{value:"♪",label:"♪"}],t=[{value:"★★★★★",label:"★★★★★"},{value:"★★★★",label:"★★★★"},{value:"★★★",label:"★★★"},{value:"★★",label:"★★"},{value:"★",label:"★"}];l.Z={songPowerOptions:a,singerPowerOptions:t}},9737:function(e,l,a){a.r(l),a.d(l,{default:function(){return x}});var t=a(3396),o=a(7139),n=a(9242);const s=(0,t.Uk)(" / "),d=(0,t._)("br",null,null,-1),i=(0,t.Uk)("搜索"),m=(0,t.Uk)("增加"),u=(0,t.Uk)("重置"),r=(0,t._)("br",null,null,-1),p=(0,t._)("br",null,null,-1),c=(0,t._)("hr",null,null,-1),f=(0,t.Uk)(" 编辑 "),g=(0,t.Uk)(" 更新 "),w=(0,t.Uk)(" 删除 ");function h(e,l,a,h,y,I){const b=(0,t.up)("el-input"),k=(0,t.up)("el-form-item"),_=(0,t.up)("el-button"),S=(0,t.up)("el-form"),W=(0,t.up)("el-tab-pane"),v=(0,t.up)("el-col"),V=(0,t.up)("el-row"),U=(0,t.up)("el-option"),x=(0,t.up)("el-select"),C=(0,t.up)("el-tabs"),E=(0,t.up)("el-table-column"),O=(0,t.up)("el-table");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("span",null,(0,o.zw)(a.baseMsg),1),s,(0,t._)("b",null,(0,o.zw)(a.msg),1),(0,t._)("div",null,[d,(0,t.Wm)(C,{type:"card",modelValue:y.activeTab,"onUpdate:modelValue":l[7]||(l[7]=e=>y.activeTab=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{label:"搜索歌曲",name:"search"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{inline:!0,model:y.detailSongInfo},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"歌曲名",required:""},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:y.detailSongInfo.name,"onUpdate:modelValue":l[0]||(l[0]=e=>y.detailSongInfo.name=e),placeholder:"请输入歌曲名(模糊查询)"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(k,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_,{type:"primary",onClick:l[1]||(l[1]=e=>I.detailItem())},{default:(0,t.w5)((()=>[i])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),(0,t.Wm)(W,{label:"增加歌曲",name:"add"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{inline:!0,model:y.addSongInfo},{default:(0,t.w5)((()=>[(0,t.Wm)(V,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,{span:"8"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"歌曲名",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:y.addSongInfo.name,"onUpdate:modelValue":l[2]||(l[2]=e=>y.addSongInfo.name=e),placeholder:"请输入歌曲名"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(k,{label:"歌词",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:y.addSongInfo.lyric,"onUpdate:modelValue":l[3]||(l[3]=e=>y.addSongInfo.lyric=e),placeholder:"请输入歌词"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(V,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,{span:"8"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"热度",required:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{modelValue:y.addSongInfo.power,"onUpdate:modelValue":l[4]||(l[4]=e=>y.addSongInfo.power=e),placeholder:"选择热度"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(y.options,(e=>((0,t.wg)(),(0,t.j4)(U,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(k,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_,{type:"primary",onClick:l[5]||(l[5]=e=>I.addItem())},{default:(0,t.w5)((()=>[m])),_:1}),(0,t.Wm)(_,{type:"primary",onClick:l[6]||(l[6]=e=>I.clearItem())},{default:(0,t.w5)((()=>[u])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])),_:1},8,["modelValue"]),r,p,c,(0,t.Wm)(O,{data:y.listSongInfo,style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.kq)("",!0),(0,t.Wm)(E,{prop:"seq",label:"序号",width:"100"}),(0,t.Wm)(E,{prop:"name",label:"歌曲名",width:"200"},{default:(0,t.w5)((e=>[(0,t.wy)((0,t.Wm)(b,{type:"text",modelValue:e.row.name,"onUpdate:modelValue":l=>e.row.name=l},null,8,["modelValue","onUpdate:modelValue"]),[[n.F8,e.row.isEdit]]),(0,t.wy)((0,t._)("span",null,(0,o.zw)(e.row.name),513),[[n.F8,!e.row.isEdit]])])),_:1}),(0,t.Wm)(E,{prop:"lyric",label:"歌词",width:"500"},{default:(0,t.w5)((e=>[(0,t.wy)((0,t.Wm)(b,{type:"textarea",modelValue:e.row.lyric,"onUpdate:modelValue":l=>e.row.lyric=l},null,8,["modelValue","onUpdate:modelValue"]),[[n.F8,e.row.isEdit]]),(0,t.wy)((0,t._)("span",null,(0,o.zw)(e.row.lyric),513),[[n.F8,!e.row.isEdit]])])),_:1}),(0,t.Wm)(E,{prop:"power",label:"热度",width:"100"}),(0,t.Wm)(E,{fixed:"right",label:"操作",width:"200"},{default:(0,t.w5)((e=>[(0,t.wy)((0,t.Wm)(_,{round:"",type:"primary",size:"small",onClick:(0,n.iM)((l=>I.editItem(e)),["prevent"])},{default:(0,t.w5)((()=>[f])),_:2},1032,["onClick"]),[[n.F8,!e.row.isEdit]]),(0,t.wy)((0,t.Wm)(_,{round:"",type:"success",size:"small",onClick:(0,n.iM)((l=>I.updateItem(e)),["prevent"])},{default:(0,t.w5)((()=>[g])),_:2},1032,["onClick"]),[[n.F8,e.row.isEdit]]),(0,t.Wm)(_,{round:"",type:"danger",size:"small",onClick:(0,n.iM)((l=>I.removeItem(e)),["prevent"])},{default:(0,t.w5)((()=>[w])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])],64)}a(7658);var y=a(7634),I=a.n(y),b=a(9095),k=a(22);const _=b.Z.songData.songInfo;I().mock("https://meta-mock/songInfo/list","get",(()=>({code:200,success:!0,message:"获取所有歌曲数据成功！",data:_}))),I().mock("https://meta-mock/songInfo/detail","post",(e=>{const l=JSON.parse(e.body);let a=[];_.forEach((function(e,l){a.push(e.name)}));const t=k.Z.fuzzyQuery(a,l.name);let o=[];for(let n in _)for(let e in t)_[n].name===t[e]&&o.push(_[n]);return{code:200,success:!0,message:"获取歌曲详情成功！",data:o}})),I().mock("https://meta-mock/songInfo/add","post",(e=>{const l=JSON.parse(e.body),a=I().mock({id:"@guid",seq:"@increment"});return l.id=a.id,l.seq=a.seq,_.unshift(l),{code:200,success:!0,message:"新增歌曲数据成功！",data:_}})),I().mock("https://meta-mock/songInfo/removeAll","post",(e=>{const l=JSON.parse(e.body);return l.forEach((e=>{const l=_.findIndex((l=>l.id==e));_.splice(l,1)})),{code:200,success:!0,message:"批量删除歌曲数据成功",data:_}})),I().mock("https://meta-mock/songInfo/remove","post",(e=>{const l=e.body;for(let a in _)_[a].id===l&&_.splice(a,1);return{code:200,success:!0,message:"删除歌曲数据成功",data:_}})),I().mock("https://meta-mock/songInfo/update","post",(e=>{const l=JSON.parse(e.body);for(let a in _)_[a].id===l.id&&(_[a]=l);return{code:200,success:!0,message:"更新歌曲数据成功",data:_}}));var S=a(7224),W=a(1229),v={name:"SongView",props:{msg:String,baseMsg:String},data(){return{options:W.Z.songPowerOptions,activeTab:"search",listSongInfo:[],detailSongInfo:{},addSongInfo:{name:"",lyric:"",power:""}}},mounted(){S.Z.ajax({type:"get",url:"https://meta-mock/songInfo/list",data:""}).then((e=>{this.listSongInfo=e.data}))},methods:{addItem:function(){for(const e in this.addSongInfo)if(!this.addSongInfo[e])return this.$message({type:"error",message:"请输入必填内容"});S.Z.ajax({type:"post",url:"https://meta-mock/songInfo/add",data:JSON.stringify(this.addSongInfo)}).then((e=>{200==e.code&&(this.listSongInfo=e.data,this.$message({type:"info",message:e.message}))}))},clearItem:function(){this.addSongInfo={name:"",lyric:"",power:""}},removeItem:function(e){this.$confirm("是否执行删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{S.Z.ajax({type:"post",url:"https://meta-mock/songInfo/remove",data:e.row.id}).then((e=>{200==e.code&&(this.listSongInfo=e.data,this.$message({type:"info",message:e.message}))}))})).catch((()=>{}))},editItem:function(e){e.row.isEdit=!0},updateItem:function(e){e.row.isEdit=!1,S.Z.ajax({type:"post",url:"https://meta-mock/songInfo/update",data:JSON.stringify(e.row)}).then((e=>{200==e.code&&(this.listSongInfo=e.data,this.$message({type:"info",message:e.message}))}))},detailItem:function(){S.Z.ajax({type:"post",url:"https://meta-mock/songInfo/detail",data:JSON.stringify(this.detailSongInfo)}).then((e=>{200==e.code&&(this.listSongInfo=e.data,this.$message({type:"info",message:e.message}))}))}}},V=a(89);const U=(0,V.Z)(v,[["render",h]]);var x=U}}]);
//# sourceMappingURL=737.03cb9c76.js.map