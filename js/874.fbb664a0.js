"use strict";(self["webpackChunkfront_end_final"]=self["webpackChunkfront_end_final"]||[]).push([[874],{2874:function(e,t,l){l.r(t),l.d(t,{default:function(){return v}});var a=l(3396),s=l(7139),o=l(9242);const n=(0,a.Uk)(" / "),i=(0,a._)("br",null,null,-1),d=(0,a.Uk)("增加"),m=(0,a.Uk)("重置"),u=(0,a._)("br",null,null,-1),r=(0,a._)("br",null,null,-1),p=(0,a._)("hr",null,null,-1),c=(0,a.Uk)(" 编辑 "),f=(0,a.Uk)(" 更新 "),y=(0,a.Uk)(" 删除 ");function w(e,t,l,w,h,I){const b=(0,a.up)("el-option"),g=(0,a.up)("el-select"),k=(0,a.up)("el-form-item"),_=(0,a.up)("el-tab-pane"),W=(0,a.up)("el-input"),P=(0,a.up)("el-col"),V=(0,a.up)("el-row"),v=(0,a.up)("el-button"),U=(0,a.up)("el-form"),x=(0,a.up)("el-tabs"),E=(0,a.up)("el-table-column"),C=(0,a.up)("el-table");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("span",null,(0,s.zw)(l.baseMsg),1),n,(0,a._)("b",null,(0,s.zw)(l.msg),1),(0,a._)("div",null,[i,(0,a.Wm)(x,{type:"card",modelValue:h.activeTab,"onUpdate:modelValue":t[6]||(t[6]=e=>h.activeTab=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{label:"我的播放列表",name:"search"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{label:"播放列表"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:h.detailPlaylistInfo.name,"onUpdate:modelValue":t[0]||(t[0]=e=>h.detailPlaylistInfo.name=e),placeholder:"请选择播放列表",onChange:t[1]||(t[1]=e=>I.detailItem())},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.options,(e=>((0,a.wg)(),(0,a.j4)(b,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(_,{label:"新增播放列表",name:"add"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{inline:!0,model:h.addPlaylistInfo},{default:(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,{span:"8"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{label:"播放列表名称",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{modelValue:h.addPlaylistInfo.name,"onUpdate:modelValue":t[2]||(t[2]=e=>h.addPlaylistInfo.name=e),placeholder:"请输入播放列表名称"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(k,{label:"标签",required:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{modelValue:h.addPlaylistInfo.tab,"onUpdate:modelValue":t[3]||(t[3]=e=>h.addPlaylistInfo.tab=e),placeholder:"请输入标签"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,{span:"8"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{label:" ","label-width":"400px"}),(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,{type:"primary",onClick:t[4]||(t[4]=e=>I.addItem())},{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(v,{type:"primary",onClick:t[5]||(t[5]=e=>I.clearItem())},{default:(0,a.w5)((()=>[m])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])),_:1},8,["modelValue"]),u,r,p,(0,a.Wm)(C,{data:h.listPlaylistInfo,style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.kq)("",!0),(0,a.Wm)(E,{prop:"seq",label:"序号",width:"100"}),(0,a.Wm)(E,{prop:"name",label:"播放列表",width:"200"},{default:(0,a.w5)((e=>[(0,a.wy)((0,a.Wm)(W,{type:"text",modelValue:e.row.name,"onUpdate:modelValue":t=>e.row.name=t},null,8,["modelValue","onUpdate:modelValue"]),[[o.F8,e.row.isEdit]]),(0,a.wy)((0,a._)("span",null,(0,s.zw)(e.row.name),513),[[o.F8,!e.row.isEdit]])])),_:1}),(0,a.Wm)(E,{prop:"tab",label:"标签",width:"400"},{default:(0,a.w5)((e=>[(0,a.wy)((0,a.Wm)(W,{type:"text",modelValue:e.row.tab,"onUpdate:modelValue":t=>e.row.tab=t},null,8,["modelValue","onUpdate:modelValue"]),[[o.F8,e.row.isEdit]]),(0,a.wy)((0,a._)("span",null,(0,s.zw)(e.row.tab.toString()),513),[[o.F8,!e.row.isEdit]])])),_:1}),(0,a.Wm)(E,{prop:"time",label:"已播放时长(小时)",width:"200"},{default:(0,a.w5)((e=>[(0,a.wy)((0,a.Wm)(W,{type:"text",modelValue:e.row.time,"onUpdate:modelValue":t=>e.row.time=t},null,8,["modelValue","onUpdate:modelValue"]),[[o.F8,e.row.isEdit]]),(0,a.wy)((0,a._)("span",null,(0,s.zw)(e.row.time),513),[[o.F8,!e.row.isEdit]])])),_:1}),(0,a.Wm)(E,{fixed:"right",label:"操作",width:"200"},{default:(0,a.w5)((e=>[(0,a.wy)((0,a.Wm)(v,{round:"",type:"primary",size:"small",onClick:(0,o.iM)((t=>I.editItem(e)),["prevent"])},{default:(0,a.w5)((()=>[c])),_:2},1032,["onClick"]),[[o.F8,!e.row.isEdit]]),(0,a.wy)((0,a.Wm)(v,{round:"",type:"success",size:"small",onClick:(0,o.iM)((t=>I.updateItem(e)),["prevent"])},{default:(0,a.w5)((()=>[f])),_:2},1032,["onClick"]),[[o.F8,e.row.isEdit]]),(0,a.Wm)(v,{round:"",type:"danger",size:"small",onClick:(0,o.iM)((t=>I.removeItem(e)),["prevent"])},{default:(0,a.w5)((()=>[y])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])],64)}l(7658);var h=l(7634),I=l.n(h),b=l(9095),g=l(22);const k=b.Z.playlistData.playlistInfo;I().mock("https://meta-mock/playlistInfo/list","get",(()=>({code:200,success:!0,message:"获取所有歌单数据成功！",data:k}))),I().mock("https://meta-mock/playlistInfo/detail","post",(e=>{const t=JSON.parse(e.body);let l=[];k.forEach((function(e,t){l.push(e.name)}));const a=g.Z.fuzzyQuery(l,t.name);let s=[];if(0===a.length)return{code:200,success:!0,message:"获取歌单详情成功！",data:k};for(let o in k)for(let e in a)k[o].name===a[e]&&s.push(k[o]);return{code:200,success:!0,message:"获取歌单详情成功！",data:s}})),I().mock("https://meta-mock/playlistInfo/add","post",(e=>{const t=JSON.parse(e.body),l=I().mock({id:"@guid",seq:"@increment"});return t.id=l.id,t.seq=l.seq,t.time=0,k.unshift(t),{code:200,success:!0,message:"新增歌单数据成功！",data:k}})),I().mock("https://meta-mock/playlistInfo/removeAll","post",(e=>{const t=JSON.parse(e.body);return t.forEach((e=>{const t=k.findIndex((t=>t.id==e));k.splice(t,1)})),{code:200,success:!0,message:"批量删除歌单数据成功",data:k}})),I().mock("https://meta-mock/PlaylistInfo/remove","post",(e=>{const t=JSON.parse(e.body);for(let l in k)k[l].id===t&&k.splice(l,1);return{code:200,success:!0,message:"删除歌单数据成功",data:k}})),I().mock("https://meta-mock/PlaylistInfo/update","post",(e=>{const t=JSON.parse(e.body);for(let l in k)k[l].id===t.id&&(k[l]=t);return{code:200,success:!0,message:"更新歌单数据成功",data:k}}));var _=l(7224),W={name:"PlaylistView",props:{msg:String,baseMsg:String},data(){return{options:[],activeTab:"search",listPlaylistInfo:[],detailPlaylistInfo:{},addPlaylistInfo:{name:"",tab:[]}}},mounted(){_.Z.ajax({type:"get",url:"https://meta-mock/playlistInfo/list",data:""}).then((e=>{this.listPlaylistInfo=e.data;let t=[];const l=this.listPlaylistInfo;t.push({value:"全部",label:"全部"});for(let a in l){let e={};e.value=l[a].name,e.label=l[a].name,t.push(e)}this.options=t}))},methods:{addItem:function(){for(const e in this.addPlaylistInfo)if(!this.addPlaylistInfo[e])return this.$message({type:"error",message:"请输入必填内容"});_.Z.ajax({type:"post",url:"https://meta-mock/playlistInfo/add",data:JSON.stringify(this.addPlaylistInfo)}).then((e=>{200==e.code&&(this.listPlaylistInfo=e.data,this.$message({type:"info",message:e.message}))}))},clearItem:function(){this.addPlaylistInfo={name:"",tab:[]}},removeItem:function(e){this.$confirm("是否执行删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{_.Z.ajax({type:"post",url:"https://meta-mock/playlistInfo/remove",data:e.row.id}).then((e=>{200==e.code&&(this.listPlaylistInfo=e.data,this.$message({type:"info",message:e.message}))}))})).catch((()=>{}))},editItem:function(e){e.row.isEdit=!0},updateItem:function(e){e.row.isEdit=!1,_.Z.ajax({type:"post",url:"https://meta-mock/playlistInfo/update",data:JSON.stringify(e.row)}).then((e=>{200==e.code&&(this.listPlaylistInfo=e.data,this.$message({type:"info",message:e.message}))}))},detailItem:function(){_.Z.ajax({type:"post",url:"https://meta-mock/playlistInfo/detail",data:JSON.stringify(this.detailPlaylistInfo)}).then((e=>{200==e.code&&(this.listPlaylistInfo=e.data,this.$message({type:"info",message:e.message}))}))}}},P=l(89);const V=(0,P.Z)(W,[["render",w]]);var v=V}}]);
//# sourceMappingURL=874.fbb664a0.js.map